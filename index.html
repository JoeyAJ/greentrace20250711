<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GreenTrace</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-50">
  <!-- ä»»å‹™å®Œæˆæç¤º -->
  <div id="task-complete-tip" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 hidden">
    <div class="flex items-center">
      âœ…
      <span class="ml-2">ä»»åŠ¡å®Œæˆï¼è·å¾— <span id="task-points">0</span> ç§¯åˆ†</span>
    </div>
  </div>

  <!-- é ‚éƒ¨ Header -->
  <div class="bg-white shadow-sm">
    <div class="max-w-md mx-auto px-4 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          ğŸŒ¿
          <h1 class="text-xl font-bold text-gray-800 ml-2">GreenTrace</h1>
        </div>
        <div class="flex items-center text-sm text-gray-600">
          â­
          <span id="user-totalPoints" class="ml-1">1250 ç§¯åˆ†</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ä¸»å…§å®¹ -->
  <div class="max-w-md mx-auto px-4 py-6 pb-20" id="home-content">
    <!-- ç”¨æˆ¶çµ±è¨ˆå¡ç‰‡ -->
    <div class="bg-gradient-to-r from-green-400 to-blue-500 rounded-lg p-6 text-white mb-6">
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-2xl font-bold">æ¬¢è¿å›æ¥ï¼</h2>
          <p class="text-green-100">ç»§ç»­ä½ çš„ç¯ä¿ä¹‹æ—…</p>
        </div>
        <div class="text-right">
          <div id="user-totalPoints2" class="text-3xl font-bold">1250</div>
          <div class="text-sm text-green-100">æ€»ç§¯åˆ†</div>
        </div>
      </div>
    </div>

    <!-- ç»Ÿè®¡ç½‘æ ¼ -->
    <div class="grid grid-cols-2 gap-4 mb-6">
      <div class="bg-white rounded-lg p-4 shadow-sm border">
        <div class="flex items-center">
          ğŸƒ
          <div class="ml-3">
            <div id="user-carbon" class="text-2xl font-bold text-gray-800">2.45</div>
            <div class="text-sm text-gray-600">åƒå…‹ç¢³å‡æ’</div>
          </div>
        </div>
      </div>
      <div class="bg-white rounded-lg p-4 shadow-sm border">
        <div class="flex items-center">
          ğŸ†
          <div class="ml-3">
            <div id="user-rank" class="text-2xl font-bold text-gray-800">#3</div>
            <div class="text-sm text-gray-600">å½“å‰æ’å</div>
          </div>
        </div>
      </div>
      <div class="bg-white rounded-lg p-4 shadow-sm border">
        <div class="flex items-center">
          ğŸ¯
          <div class="ml-3">
            <div id="user-tasks" class="text-2xl font-bold text-gray-800">18</div>
            <div class="text-sm text-gray-600">å®Œæˆä»»åŠ¡</div>
          </div>
        </div>
      </div>
      <div class="bg-white rounded-lg p-4 shadow-sm border">
        <div class="flex items-center">
          âš¡
          <div class="ml-3">
            <div id="user-streak" class="text-2xl font-bold text-gray-800">7</div>
            <div class="text-sm text-gray-600">è¿ç»­å¤©æ•°</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ä»Šæ—¥ä»»åŠ¡ -->
    <div class="bg-white rounded-lg p-4 shadow-sm border">
      <h3 class="text-lg font-semibold mb-3 flex items-center">âœ…<span class="ml-2">ä»Šæ—¥ä»»åŠ¡</span></h3>
      <div id="task-list" class="space-y-2"></div>
    </div>
  </div>

  <script>
    const userStats = {
      totalPoints: 1250,
      totalCarbonSaved: 2.45,
      tasksCompleted: 18,
      rank: 3,
      streak: 7
    };

    const tasks = [
      { id: 1, title: "ä½¿ç”¨å¯é‡å¤ä½¿ç”¨çš„æ°´æ¯", points: 10, carbonSaved: 0.1 },
      { id: 2, title: "æ­¥è¡Œæˆ–éª‘è¡Œä¸Šç­", points: 25, carbonSaved: 0.5 },
      { id: 3, title: "å…³é—­ä¸å¿…è¦çš„ç”µå™¨", points: 15, carbonSaved: 0.2 }
    ];

    const completedTasks = new Set();

    function updateStatsDisplay() {
      document.getElementById("user-totalPoints").textContent = userStats.totalPoints + " ç§¯åˆ†";
      document.getElementById("user-totalPoints2").textContent = userStats.totalPoints;
      document.getElementById("user-carbon").textContent = userStats.totalCarbonSaved.toFixed(2);
      document.getElementById("user-rank").textContent = "#" + userStats.rank;
      document.getElementById("user-tasks").textContent = userStats.tasksCompleted;
      document.getElementById("user-streak").textContent = userStats.streak;
    }

    function showTaskCompleteTip(task) {
      document.getElementById("task-points").textContent = task.points;
      const tip = document.getElementById("task-complete-tip");
      tip.classList.remove("hidden");
      setTimeout(() => tip.classList.add("hidden"), 3000);
    }

    function completeTask(taskId) {
      const task = tasks.find(t => t.id === taskId);
      if (completedTasks.has(task.id)) return;
      completedTasks.add(task.id);
      userStats.totalPoints += task.points;
      userStats.totalCarbonSaved += task.carbonSaved;
      userStats.tasksCompleted += 1;
      updateStatsDisplay();
      showTaskCompleteTip(task);
      renderTasks();
    }

    function renderTasks() {
      const list = document.getElementById("task-list");
      list.innerHTML = '';
      tasks.forEach(task => {
        const taskDiv = document.createElement("div");
        taskDiv.className = "flex items-center justify-between p-3 bg-gray-50 rounded-lg";
        taskDiv.innerHTML = `
          <div class="flex-1">
            <div class="font-medium">${task.title}</div>
            <div class="text-sm text-gray-600">+${task.points} ç§¯åˆ† | -${task.carbonSaved}kg ç¢³æ’æ”¾</div>
          </div>
          <button
            onclick="completeTask(${task.id})"
            ${completedTasks.has(task.id) ? 'disabled' : ''}
            class="px-4 py-2 rounded-lg font-medium ${
              completedTasks.has(task.id)
                ? 'bg-green-100 text-green-700 cursor-not-allowed'
                : 'bg-green-500 text-white hover:bg-green-600'
            }"
          >
            ${completedTasks.has(task.id) ? 'å·²å®Œæˆ' : 'å®Œæˆ'}
          </button>
        `;
        list.appendChild(taskDiv);
      });
    }

    // åˆå§‹åŒ–
renderPage('home');
<script>
  function renderPage(page) {
    const container = document.getElementById('home-content');
    if (!container) return;

    if (page === 'home') {
      container.innerHTML = homeTemplate();
      updateStatsDisplay();
      renderTasks();
    }

    if (page === 'tasks') {
      container.innerHTML = tasksTemplate();
      renderAllTasks();
    }

    if (page === 'leaderboard') {
  container.innerHTML = leaderboardTemplate();
  renderLeaderboard();
}

    if (page === 'rewards') {
  container.innerHTML = rewardsTemplate();
  renderRewards();
}

    // æ’è¡Œæ¦œã€çå‹µã€å€‹äººé å°‡åœ¨ä¸‹ä¸€éšæ®µè£œä¸Š
  }

  function homeTemplate() {
    return `<!--ï¼ˆåŸæœ¬ home-content è£¡çš„æ•´å€‹ HTMLï¼Œå¯ä¿æŒä¸è®Šï¼‰-->`;
  }

  function tasksTemplate() {
    return `
      <h2 class="text-2xl font-bold text-gray-800 mb-4">ç¯ä¿ä»»åŠ¡</h2>
      <div id="all-tasks-list" class="grid gap-4"></div>
    `;
  }

  function renderAllTasks() {
    const list = document.getElementById("all-tasks-list");
    list.innerHTML = '';
    tasks.forEach(task => {
      const div = document.createElement("div");
      div.className = "bg-white rounded-lg p-4 shadow-sm border";
      div.innerHTML = `
        <div class="flex items-center justify-between">
          <div class="flex-1">
            <h3 class="font-semibold text-lg">${task.title}</h3>
            <div class="flex items-center mt-2 text-sm text-gray-600">
              â­ <span class="ml-1 mr-4">${task.points} ç§¯åˆ†</span>
              ğŸƒ <span class="ml-1">å‡å°‘ ${task.carbonSaved}kg ç¢³æ’æ”¾</span>
            </div>
          </div>
          <button onclick="completeTask(${task.id})"
            ${completedTasks.has(task.id) ? 'disabled' : ''}
            class="px-6 py-2 rounded-lg font-medium ${
              completedTasks.has(task.id)
                ? 'bg-green-100 text-green-700 cursor-not-allowed'
                : 'bg-green-500 text-white hover:bg-green-600'
            }">
            ${completedTasks.has(task.id) ? 'âœ“ å·²å®Œæˆ' : 'å®Œæˆä»»åŠ¡'}
          </button>
        </div>
      `;
      list.appendChild(div);
    });
  }
const leaderboard = [
  { rank: 1, name: "ç¯ä¿è¾¾äºº", points: 1580, carbonSaved: 3.2 },
  { rank: 2, name: "ç»¿è‰²ç”Ÿæ´»", points: 1420, carbonSaved: 2.9 },
  { rank: 3, name: "ä½ ", points: userStats.totalPoints, carbonSaved: userStats.totalCarbonSaved },
  { rank: 4, name: "ä½ç¢³å…ˆé”‹", points: 1100, carbonSaved: 2.1 },
  { rank: 5, name: "èŠ‚èƒ½ä¸“å®¶", points: 980, carbonSaved: 1.8 }
];

function leaderboardTemplate() {
  return `
    <h2 class="text-2xl font-bold text-gray-800 mb-4">æ’è¡Œæ¦œ</h2>
    <div id="leaderboard-list" class="bg-white rounded-lg shadow-sm border divide-y"></div>
  `;
}

function renderLeaderboard() {
  const list = document.getElementById("leaderboard-list");
  list.innerHTML = '';
  leaderboard.forEach(user => {
    const item = document.createElement("div");
    item.className = `flex items-center p-4 ${user.name === "ä½ " ? 'bg-green-50' : ''}`;
    item.innerHTML = `
      <div class="flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-r from-green-400 to-blue-500 text-white font-bold mr-4">
        ${user.rank}
      </div>
      <div class="flex-1">
        <div class="font-semibold">${user.name}</div>
        <div class="text-sm text-gray-600">${user.carbonSaved}kg ç¢³å‡æ’</div>
      </div>
      <div class="text-right">
        <div class="font-bold text-lg">${user.points}</div>
        <div class="text-sm text-gray-600">ç§¯åˆ†</div>
      </div>
    `;
    list.appendChild(item);
  });
}
const rewards = [
  { id: 1, name: "ç¯ä¿è´­ç‰©è¢‹", points: 200, stock: 15 },
  { id: 2, name: "ç«¹åˆ¶ç‰™åˆ·", points: 150, stock: 8 },
  { id: 3, name: "å¤ªé˜³èƒ½å……ç”µå®", points: 800, stock: 3 },
  { id: 4, name: "æœ‰æœºç§å­å¥—è£…", points: 300, stock: 12 }
];

function rewardsTemplate() {
  return `
    <h2 class="text-2xl font-bold text-gray-800 mb-4">å¥–åŠ±å•†åº—</h2>
    <div id="rewards-list" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
  `;
}

function renderRewards() {
  const list = document.getElementById("rewards-list");
  list.innerHTML = '';
  rewards.forEach(reward => {
    const item = document.createElement("div");
    item.className = "bg-white rounded-lg p-4 shadow-sm border";
    item.innerHTML = `
      <div class="flex items-center justify-between mb-3">
        <h3 class="font-semibold text-lg">${reward.name}</h3>
        <div class="text-sm text-gray-600">åº“å­˜: ${reward.stock}</div>
      </div>
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          â­<span class="font-medium ml-1">${reward.points} ç§¯åˆ†</span>
        </div>
        <button
          ${userStats.totalPoints < reward.points ? 'disabled' : ''}
          class="px-4 py-2 rounded-lg font-medium ${
            userStats.totalPoints >= reward.points
              ? 'bg-blue-500 text-white hover:bg-blue-600'
              : 'bg-gray-300 text-gray-500 cursor-not-allowed'
          }"
        >
          å…‘æ¢
        </button>
      </div>
    `;
    list.appendChild(item);
  });
}

    
  </script>
<!-- åº•éƒ¨å°èˆª -->
<div class="fixed bottom-0 left-0 right-0 bg-white border-t">
  <div class="max-w-md mx-auto px-4">
    <div class="flex justify-around py-2 text-sm">
      <button onclick="renderPage('home')" class="flex flex-col items-center text-gray-600 hover:text-green-600">
        ğŸ <span class="text-xs mt-1">é¦–é¡µ</span>
      </button>
      <button onclick="renderPage('tasks')" class="flex flex-col items-center text-gray-600 hover:text-green-600">
        âœ…<span class="text-xs mt-1">ä»»åŠ¡</span>
      </button>
      <button onclick="renderPage('leaderboard')" class="flex flex-col items-center text-gray-600 hover:text-green-600">
  ğŸ†<span class="text-xs mt-1">æ’è¡Œæ¦œ</span>
</button>
     <button onclick="renderPage('rewards')" class="flex flex-col items-center text-gray-600 hover:text-green-600">
  ğŸ<span class="text-xs mt-1">å¥–åŠ±</span>
</button>
      <button disabled class="flex flex-col items-center text-gray-400">
        ğŸ‘¤<span class="text-xs mt-1">æˆ‘çš„</span>
      </button>
    </div>
  </div>
</div>
